<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Surprise </title>

<style>
  :root{
    --bg:#07060a;
    --accent:#ff5c9e;
    --accent2:#ffd36b;
    --soft:#ffdfe6;
    --glass: rgba(255,255,255,0.06);
  }

  html,body{
    height:100%;
    margin:0;
    font-family: 'Helvetica Neue', Arial, sans-serif;
    background: radial-gradient(
        circle at 10% 10%,
        rgba(255,92,158,0.06),
        transparent 10%
      ),
      var(--bg);
    color:#fff;
  }

.wrap{
    min-height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:30px;
    box-sizing:border-box;
  }

  .card{
    width: 940px;
    max-width:95%;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:18px;
    padding:28px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.6);
    position:relative;
    overflow:hidden;
  }

  /* header */
  .header{
    display:flex;
    align-items:center;
    gap:16px;
    margin-bottom:6px;
  }
  .logo{
    width:56px;
    height:56px;
    border-radius:12px;
    background:linear-gradient(135deg,var(--accent),var(--accent2));
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:700;
    color:#12020b;
    box-shadow:0 6px 20px rgba(255,92,158,0.12);
  }
  h1{margin:0;font-size:22px;letter-spacing:0.6px}
  p.lead{margin:6px 0 18px;color:#ddd}

  /* stage */
  .stage{display:flex;gap:24px;align-items:center;flex-wrap:wrap}

  .visual{
    flex:1 1 420px;
    min-height:360px;
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
  }

.controls{
    flex:1 1 360px;
    padding:16px;
    background:var(--glass);
    border-radius:12px;
    backdrop-filter: blur(6px);
  }

  /* heart */
  .heart-wrap{width:420px;max-width:85%}
  svg.heart{display:block;width:100%;height:auto;filter:drop-shadow(0 8px 20px rgba(255,92,158,0.12));}

  .glow-text{
    position:absolute;
    top:46%;
    left:50%;
    transform:translate(-50%,-50%);
    font-weight:800;
    font-size:48px;
    text-transform:uppercase;
    letter-spacing:6px;
    text-shadow: 
      0 0 18px rgba(255,92,158,0.25),
      0 0 30px rgba(255,211,107,0.12);
    color:transparent;
    -webkit-text-stroke: 1.6px rgba(255,255,255,0.02);
    pointer-events:none;
  }

  /* mini-jeu */
  .scramble{display:flex;flex-direction:column;gap:12px}
  .prompt{font-size:14px;color:#ffeef3;margin-bottom:8px}
  .letters{display:flex;gap:8px;flex-wrap:wrap}

  .letter{
    padding:14px 18px;
    border-radius:10px;
    background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.04);
    cursor:pointer;
    font-weight:700;
    font-size:18px;
    user-select:none;
    transition:transform .14s ease,opacity .14s ease;
  }
  .letter:active{transform:scale(.96)}
  .letter.disabled{opacity:.35;pointer-events:none}

  .inputBox{
    margin-top:10px;
    padding:12px;
    border-radius:10px;
    background:#00000010;

border:1px dashed rgba(255,255,255,0.04);
    min-height:46px;
    display:flex;
    align-items:center;
    gap:8px;
    font-size:18px;
    color:var(--soft);
  }

  .btn{
    display:inline-block;
    margin-top:16px;
    padding:10px 14px;
    border-radius:10px;
    background:linear-gradient(90deg,var(--accent),var(--accent2));
    color:#12020b;
    font-weight:800;
    border:none;
    cursor:pointer;
    box-shadow:0 8px 24px rgba(255,92,158,0.14);
  }

  .status{margin-top:12px;color:#ffdfe8;font-size:14px;min-height:18px}

  /* overlay final */
  #reveal{
    position:fixed;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    background:linear-gradient(180deg, rgba(7,6,10,0.85), rgba(7,6,10,0.9));
    z-index:120;
    backdrop-filter: blur(4px);
    opacity:0;
    pointer-events:none;
    transition:opacity .6s ease;
  }
  #reveal.show{opacity:1;pointer-events:auto}

  .reveal-card{
    width:90%;
    max-width:880px;
    padding:28px;
    border-radius:16px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    box-shadow:0 30px 80px rgba(0,0,0,0.6);
    text-align:center;
    color:#fff;
    position:relative;
    overflow:hidden;
  }

  .final-title{font-size:34px;margin:10px 0 6px}
  .final-text{font-size:18px;line-height:1.45;color:#ffeef3;margin-bottom:18px}

.heart-small{font-size:40px;margin-top:6px;display:inline-block;text-shadow:0 0 20px rgba(255,92,158,0.2)}

  #confetti{
    position:absolute;
    inset:0;
    pointer-events:none;
    z-index:10;
  }

  @media (max-width:760px){
    .stage{flex-direction:column-reverse}
    .glow-text{font-size:34px}
  }
</style>
</head>

<body>

<div class="wrap">
  <div class="card">
    
    <div class="header">
      <div class="logo"></div>
      <div>
        <h1>Pour ma personne speciale</h1>
        <p class="lead">Clique sur les lettres dans l'ordre correct pour reveler la surprise </p>
      </div>
    </div>

    <div class="stage">
      <!-- VISUEL -->
      <div class="visual">
        <div class="heart-wrap">
          <svg class="heart" viewBox="0 0 500 500">
<defs>
              <linearGradient id="g1" x1="0" x2="1">
                <stop offset="0" stop-color="#ff5c9e"/>
                <stop offset="1" stop-color="#ffd36b"/>
              </linearGradient>
              <filter id="blurGlow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="6" result="blur"/>
                <feMerge>
                  <feMergeNode in="blur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>

            <path id="heartPath"
              d="M250 420 L60 250 C20 200 50 120 140 120 C200 120 245 170 250 205 C255 170 300 120 360 120 C450 120 480 200 440 250 L250 420 Z"
              fill="none"
              stroke="url(#g1)"
              stroke-width="16"
              stroke-linecap="round"
              stroke-linejoin="round"
              filter="url(#blurGlow)">
            </path>
          </svg>

          <div class="glow-text" id="mainGlow">I LOVE YOU</div>
        </div>
      </div>

      <!-- CONTROLES -->
      <div class="controls">
        <div class="scramble">
          <div class="prompt">Choisis les lettres dans le bon ordre :</div>
<div class="letters" id="letters"></div>

          <div class="inputBox" id="inputBox"></div>

          <div class="status" id="status"></div>

          <button class="btn" id="resetBtn">Reinitialiser</button>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- OVERLAY FINAL -->
<div id="reveal">
  <div class="reveal-card">
    <canvas id="confetti"></canvas>
    <h2 class="final-title">Surprise </h2>
    <p class="final-text">
      Tu as reussi… et je veux que tu saches quelque chose :
      <br><br>
      Je t’aime plus que tout. Merci d’être dans ma vie.
    </p>
    <div class="heart-small"></div>
  </div>
</div>

<script>
/* MOT DU MINI-JEU */
const correctWord = "AMOUR";

/* ELEMENTS */
const lettersContainer = document.getElementById("letters");
const inputBox = document.getElementById("inputBox");
const statusText = document.getElementById("status");
const resetBtn = document.getElementById("resetBtn");
const reveal = document.getElementById("reveal");

/* Mélange des lettres */
function shuffle(word){
  return word.split("").sort(()=> Math.random() - 0.5);
}

let current = "";

/* Génération des boutons */
function generateLetters(){
  lettersContainer.innerHTML = "";
  inputBox.textContent = "";
  statusText.textContent = "";
  current = "";

  const mixed = shuffle(correctWord);

  mixed.forEach(letter=>{
    const btn = document.createElement("div");
btn.className="letter";
    btn.textContent=letter;

    btn.onclick = ()=>{
      current += letter;
      inputBox.textContent = current;
      btn.classList.add("disabled");

      if(current.length === correctWord.length){
        if(current === correctWord){
          statusText.textContent = "Bravo ! ";
          setTimeout(()=> reveal.classList.add("show"), 900);
          startConfetti();
        } else {
          statusText.textContent = "Essaie encore…";
        }
      }
    };

    lettersContainer.appendChild(btn);
  });
}

resetBtn.onclick = generateLetters;
generateLetters();

/* CONFETTI */
function startConfetti(){
  const canvas = document.getElementById("confetti");
  const ctx = canvas.getContext("2d");
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  const pieces = [];
  for(let i=0;i<180;i++){
    pieces.push({
      x: Math.random()*canvas.width,
      y: Math.random()*canvas.height - canvas.height,
      size: 6 + Math.random()*6,
      speed: 1 + Math.random()*3
    });
  }

  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    for(let p of pieces){
      ctx.fillStyle = `hsl(${Math.random()*360},90%,65%)`;
      ctx.fillRect(p.x,p.y,p.size,p.size);
      p.y += p.speed;
      if(p.y > canvas.height) p.y = -20;
    }
    requestAnimationFrame(draw);
  }
  draw();
}
</script>

</body>
</html>